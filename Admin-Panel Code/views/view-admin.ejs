<%- include('layouts/header'); %>

    <div class="flex-1 flex flex-col h-screen md:ml-64 transition-all">
        <header
            class="h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 sticky top-0 z-10">
            <h2 class="text-lg font-semibold text-slate-800">Admin List</h2>
        </header>

        <main class="flex-1 overflow-y-auto p-6 bg-slate-50">
            <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-slate-200">
                        <thead class="bg-slate-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase">Profile
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase">Contact
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase">Gender
                                </th>
                                <th class="px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase">Hobbies
                                </th>
                                <th class="px-6 py-3 text-right text-xs font-semibold text-slate-500 uppercase">Actions
                                </th>
                            </tr>
                        </thead>
                        <tbody id="adminTableBody" class="bg-white divide-y divide-slate-200">

                            <% if (admins.length===0) { %>
                                <tr>
                                    <td colspan="5" class="text-center py-8 text-slate-500">
                                        No admins found
                                    </td>
                                </tr>
                                <% } %>

                                    <% admins.forEach(admin=> { %>
                                        <tr class="hover:bg-slate-50 transition border-b border-slate-100"
                                            id="row-<%= admin._id %>">

                                            <td class="px-6 py-4 whitespace-nowrap">
                                                <div class="flex items-center">
                                                    <img src="<%= admin.avatar %>"
                                                        class="h-10 w-10 rounded-full object-cover ring-2 ring-white shadow-sm"
                                                        alt="<%= admin.name %>"
                                                        [cite_start]onerror="this.src='https://ui-avatars.com/api/?name=<%= admin.name %>&background=cbd5e1&color=fff'">

                                                    <div class="ml-4">
                                                        <div class="text-sm font-medium text-slate-900">
                                                            <%= admin.name %>
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>

                                            <td class="px-6 py-4 text-sm text-slate-600">
                                                <a href="mailto:<%= admin.email %>"><%= admin.email %></a>
                                            </td>

                                            <td class="px-6 py-4 text-sm text-slate-600">
                                                <%= admin.gender %>
                                            </td>

                                            <td class="px-6 py-4 text-sm text-slate-500">
                                                <%= admin.hobby ? admin.hobby.join(', ') : '' %>
                            </td>

                                <td class="px-6 py-4 text-right text-sm space-x-2">
                                
                                    <button type="button" onclick="viewAdmin(' <%=admin._id %>')"
                                                    class="text-indigo-600 hover:text-indigo-900 p-2 hover:bg-indigo-50
                                                    rounded transition" title="View Details">
                                                    <i data-lucide="eye" class="w-4 h-4"></i>
                                                    </button>

                                                    <button type="button" onclick="openEditModal('<%= admin._id %>')"
                                                        class="text-amber-600 hover:text-amber-900 p-2 hover:bg-amber-50 rounded transition"
                                                        title="Edit">
                                                        <i data-lucide="edit-2" class="w-4 h-4"></i>
                                                    </button>

                                                    <a href="delete-admin/?deleteAdmin=<%= admin._id %>"
                                                        onclick="return confirm('Are you sure you want to delete this admin?')"
                                                        class="text-red-600 hover:text-red-900 p-2 hover:bg-amber-50 rounded inline-flex items-center justify-center">
                                                        <i data-lucide="trash-2" class="w-4 h-4"></i>
                                                    </a>
                                            </td>
                                        </tr>
                                        <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <div id="modalOverlay"
        class="fixed inset-0 bg-slate-900/50 hidden items-center justify-center z-50 backdrop-blur-sm"
        onclick="closeModal()">
        <div id="modalContent"
            class="bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden transform transition-all p-6"
            onclick="event.stopPropagation()">
        </div>
    </div>

    <%- include('layouts/footer'); %>